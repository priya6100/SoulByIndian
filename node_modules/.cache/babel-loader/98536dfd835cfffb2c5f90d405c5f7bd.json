{"ast":null,"code":"var _jsxFileName = \"E:\\\\redo final\\\\frontend-main\\\\src\\\\containers\\\\CheckOutPage\\\\PaymentRazorpay\\\\index.js\";\nimport React, { Component } from 'react';\nimport Axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport class Payment extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {}; // this.razorPayHandler = this.razorPayHandler(this);\n  }\n\n  async razorPayPaymentHandler() {\n    const API_URL = `http://localhost:5000/razorpay/`;\n    const orderUrl = `${API_URL}order`;\n    const response = await Axios.get(orderUrl);\n    const {\n      data\n    } = response;\n    console.log(\"App -> razorPayPaymentHandler -> data\", data);\n    const options = {\n      key: '',\n      name: \"avdojo\",\n      description: \"avodojo\",\n      order_id: data.id,\n      handler: async response => {\n        try {\n          const paymentId = response.razorpay_payment_id;\n          const url = `${API_URL}capture/${paymentId}`;\n          const captureResponse = await Axios.post(url, {});\n          const successObj = JSON.parse(captureResponse.data);\n          const captured = successObj.captured;\n          console.log(\"App -> razorPayPaymentHandler -> captured\", successObj);\n\n          if (captured) {\n            console.log('success');\n          }\n        } catch (err) {\n          console.log(err);\n        }\n      },\n      theme: {\n        color: \"#686CFD\"\n      }\n    };\n    const rzp1 = new window.Razorpay(options);\n    rzp1.open();\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: this.razorPayPaymentHandler,\n        className: \"btn btn-primary\",\n        children: \"Pay Now\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }, this);\n  }\n\n}\nexport default Payment;","map":{"version":3,"sources":["E:/redo final/frontend-main/src/containers/CheckOutPage/PaymentRazorpay/index.js"],"names":["React","Component","Axios","Payment","constructor","props","state","razorPayPaymentHandler","API_URL","orderUrl","response","get","data","console","log","options","key","name","description","order_id","id","handler","paymentId","razorpay_payment_id","url","captureResponse","post","successObj","JSON","parse","captured","err","theme","color","rzp1","window","Razorpay","open","render"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AACA,OAAO,MAAMC,OAAN,SAAsBF,SAAtB,CAAgC;AACrCG,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;AAEA,SAAKC,KAAL,GAAa,EAAb,CAHiB,CAMlB;AAEA;;AAE2B,QAAtBC,sBAAsB,GAAG;AAC7B,UAAMC,OAAO,GAAI,iCAAjB;AACA,UAAMC,QAAQ,GAAI,GAAED,OAAQ,OAA5B;AACA,UAAME,QAAQ,GAAG,MAAMR,KAAK,CAACS,GAAN,CAAUF,QAAV,CAAvB;AACA,UAAM;AAAEG,MAAAA;AAAF,QAAWF,QAAjB;AACAG,IAAAA,OAAO,CAACC,GAAR,CAAY,uCAAZ,EAAqDF,IAArD;AAEA,UAAMG,OAAO,GAAG;AACdC,MAAAA,GAAG,EAAE,EADS;AAEdC,MAAAA,IAAI,EAAE,QAFQ;AAGdC,MAAAA,WAAW,EAAE,SAHC;AAIdC,MAAAA,QAAQ,EAAEP,IAAI,CAACQ,EAJD;AAKdC,MAAAA,OAAO,EAAE,MAAOX,QAAP,IAAoB;AAC3B,YAAI;AACH,gBAAMY,SAAS,GAAGZ,QAAQ,CAACa,mBAA3B;AACA,gBAAMC,GAAG,GAAI,GAAEhB,OAAQ,WAAUc,SAAU,EAA3C;AACA,gBAAMG,eAAe,GAAG,MAAMvB,KAAK,CAACwB,IAAN,CAAWF,GAAX,EAAgB,EAAhB,CAA9B;AACA,gBAAMG,UAAU,GAAGC,IAAI,CAACC,KAAL,CAAWJ,eAAe,CAACb,IAA3B,CAAnB;AACA,gBAAMkB,QAAQ,GAAGH,UAAU,CAACG,QAA5B;AACAjB,UAAAA,OAAO,CAACC,GAAR,CAAY,2CAAZ,EAAyDa,UAAzD;;AACA,cAAGG,QAAH,EAAY;AACRjB,YAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ;AACH;AAED,SAXD,CAWE,OAAOiB,GAAP,EAAY;AACZlB,UAAAA,OAAO,CAACC,GAAR,CAAYiB,GAAZ;AACD;AACF,OApBa;AAqBdC,MAAAA,KAAK,EAAE;AACLC,QAAAA,KAAK,EAAE;AADF;AArBO,KAAhB;AAyBA,UAAMC,IAAI,GAAG,IAAIC,MAAM,CAACC,QAAX,CAAoBrB,OAApB,CAAb;AACAmB,IAAAA,IAAI,CAACG,IAAL;AACD;;AAEDC,EAAAA,MAAM,GAAG;AACP,wBACE;AAAA,6BACE;AACA,QAAA,OAAO,EAAE,KAAK/B,sBADd;AAEA,QAAA,SAAS,EAAC,iBAFV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,YADF;AASD;;AAzDoC;AA6DvC,eAAeJ,OAAf","sourcesContent":["import React, { Component } from 'react'\nimport Axios from 'axios'\nexport class Payment extends Component {\n  constructor(props) {\n    super(props)\n  \n    this.state = {\n       \n    }\n   // this.razorPayHandler = this.razorPayHandler(this);\n\n  }\n\n  async razorPayPaymentHandler() {\n    const API_URL = `http://localhost:5000/razorpay/`\n    const orderUrl = `${API_URL}order`;\n    const response = await Axios.get(orderUrl);\n    const { data } = response;\n    console.log(\"App -> razorPayPaymentHandler -> data\", data)\n    \n    const options = {\n      key: '',\n      name: \"avdojo\",\n      description: \"avodojo\",\n      order_id: data.id,\n      handler: async (response) => {\n        try {\n         const paymentId = response.razorpay_payment_id;\n         const url = `${API_URL}capture/${paymentId}`;\n         const captureResponse = await Axios.post(url, {})\n         const successObj = JSON.parse(captureResponse.data)\n         const captured = successObj.captured;\n         console.log(\"App -> razorPayPaymentHandler -> captured\", successObj)\n         if(captured){\n             console.log('success')\n         }\n         \n        } catch (err) {\n          console.log(err);\n        }\n      },\n      theme: {\n        color: \"#686CFD\",\n      },\n    };\n    const rzp1 = new window.Razorpay(options);\n    rzp1.open();\n  }\n  \n  render() {\n    return (\n      <div>\n        <button \n        onClick={this.razorPayPaymentHandler}\n        className=\"btn btn-primary\">\n          Pay Now\n        </button>\n      </div>\n    )\n  }\n}\n\n\nexport default Payment;\n"]},"metadata":{},"sourceType":"module"}