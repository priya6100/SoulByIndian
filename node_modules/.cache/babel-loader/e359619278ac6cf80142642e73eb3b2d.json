{"ast":null,"code":"var _jsxFileName = \"E:\\\\redo final\\\\frontend-main\\\\src\\\\containers\\\\OrderDetailsPage\\\\index.js\",\n    _s = $RefreshSig$();\n\n/** @format */\nimport React, { useEffect, useState, useRef } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { cancleOrder, getOrder } from \"../../actions\";\nimport Layout from \"../../components/Layout\";\nimport Card from \"../../components/UI/Card\";\nimport { generatePublicUrl } from \"../../urlConfig\";\nimport Price from \"../../components/UI/Price\";\nimport \"./style.css\";\nimport { FaArrowRight, FaChevronRight, FaRupeeSign } from \"react-icons/fa\";\nimport { useMemo } from \"react\";\n/**\n * @author\n * @function OrderDetails\n **/\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst OrderDetailsPage = props => {\n  _s();\n\n  const dispatch = useDispatch();\n  const typeRef = useRef(\"\");\n  const orderDetails = useSelector(state => state.user.orderDetails);\n  const user = useSelector(state => state.user);\n  const auth = useSelector(state => state.auth);\n\n  const onCancleOrder = (orderId, productId) => {\n    const payload = {\n      orderId,\n      productId,\n      type: typeRef.current\n    };\n    dispatch(cancleOrder(payload));\n  };\n\n  useEffect(() => {\n    console.log({\n      props\n    });\n    const payload = {\n      orderId: props.match.params.orderId\n    };\n    dispatch(getOrder(payload));\n  }, []);\n  useEffect(() => {\n    console.log(orderDetails, \">> orderDetails\");\n  }, [orderDetails]);\n  useEffect(() => {\n    console.log(user.hasItem, \">> hasItem\");\n  }, [user.hasItem]);\n  const cancleItem = useMemo(() => {\n    const {\n      cancleOrder\n    } = orderDetails;\n    let newCancleItem = cancleOrder ? cancleOrder[0] : {}; // console.log(cancleItem);\n\n    return newCancleItem;\n  }, [orderDetails]);\n\n  const formatDate = date => {\n    if (date) {\n      const d = new Date(date);\n      return `${d.getFullYear()}-${d.getMonth() + 1}-${d.getDate()}`;\n    }\n\n    return \"\";\n  };\n\n  const formatDate2 = date => {\n    const month = [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"June\", \"July\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"];\n\n    if (date) {\n      const d = new Date(date);\n      return `${month[d.getMonth()]} ${d.getDate()}, ${d.getFullYear()}`;\n    }\n  };\n\n  if (!(orderDetails && orderDetails.address)) {\n    return null;\n  }\n\n  return /*#__PURE__*/_jsxDEV(Layout, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"detailsContainer\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Order Details\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"detUpperContainer\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"delTitle\",\n          children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n            children: \"Delivery Address\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h6\", {\n            children: orderDetails.address.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h6\", {\n            children: orderDetails.address.address\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h6\", {\n            children: orderDetails.address.mobileNumber\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"delTitle\",\n          children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n            children: [\"OrderId: \\xA0 \", orderDetails._id]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h6\", {\n            children: [\"PinCode: \\xA0 \", orderDetails.pinCode]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h6\", {\n            children: [\"Phone number: \", orderDetails.address.mobileNumber]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n            href: \"#\",\n            children: \"View Invoice\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h6\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 9\n      }, this), orderDetails.items.map((item, index) => /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"detLowerContainer\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"delItemImgContainer\",\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              src: generatePublicUrl(item.productId.productPictures[0]),\n              alt: \"\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 115,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"lowerDetRight\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"delItemName\",\n              children: item.productId.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 121,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"cancleorderItem\",\n              children: !item.removeOrder[0].isRemoveOrder ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: orderDetails.orderStatus.filter((od, index) => od.isCompleted).slice(-1).map((oc, index) => /*#__PURE__*/_jsxDEV(_Fragment, {\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"cancleorderItem\",\n                    children: /*#__PURE__*/_jsxDEV(\"h1\", {\n                      children: [oc.type, \" on \", formatDate2(oc.date), \" \"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 132,\n                      columnNumber: 31\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 131,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"tracknewDesign\",\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"orderTrack\",\n                      children: orderDetails.orderStatus.map(status => /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: `orderStatus ${status.isCompleted ? \"active\" : \"\"}`,\n                        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                          className: `point ${status.isCompleted ? \"active\" : \"\"}`\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 143,\n                          columnNumber: 37\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"orderInfo\",\n                          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"status\",\n                            children: status.type\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 148,\n                            columnNumber: 39\n                          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"date\",\n                            children: formatDate(status.date)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 151,\n                            columnNumber: 39\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 147,\n                          columnNumber: 37\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 139,\n                        columnNumber: 35\n                      }, this))\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 137,\n                      columnNumber: 31\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 136,\n                    columnNumber: 29\n                  }, this), oc.type == \"shipped\" || oc.type == \"delivered\" || user.hasItem === false ? null : /*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: () => {\n                      typeRef.current = cancleItem.type;\n                      onCancleOrder(orderDetails._id, item.productId._id);\n                    },\n                    children: \"Cancle Order\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 162,\n                    columnNumber: 31\n                  }, this)]\n                }, void 0, true))\n              }, void 0, false) : /*#__PURE__*/_jsxDEV(\"h1\", {\n                children: [\"Cancelled on \", formatDate2(item.removeOrder[0].date), \" \"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 177,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 122,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 120,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"delTitle mobBorderOrder\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            children: \"Order Summery\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 186,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"h6\", {\n            children: [\"OrderId: \\xA0 \", orderDetails._id]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 187,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"h6\", {\n            children: [\"PinCode: \\xA0 \", orderDetails.pinCode]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 188,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"h6\", {\n            children: [\"Phone number: \", orderDetails.address.mobileNumber]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 189,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"h6\", {\n            children: [\"Total Amount: \\xA0\", /*#__PURE__*/_jsxDEV(FaRupeeSign, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 192,\n              columnNumber: 17\n            }, this), \" \", orderDetails.totalAmount]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 190,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n            href: \"#\",\n            children: \"View Invoice\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 194,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"h6\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 195,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 185,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 197,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"delTitle mobBorderOrder\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            children: \"Shipping Address\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 199,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"h6\", {\n            children: orderDetails.address.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 200,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"h6\", {\n            children: orderDetails.address.address\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 201,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"h6\", {\n            children: orderDetails.address.mobileNumber\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 202,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"h6\", {\n            children: auth.user.email\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 203,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 198,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"hr\", {\n          className: \"hrHide\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 206,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"footerInfoDet\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"footerInfoDet-design\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: \"Item Name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 209,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: item.productId.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 210,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 208,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"footerInfoDet-design\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: \"Total Amount\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 213,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [/*#__PURE__*/_jsxDEV(FaRupeeSign, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 215,\n                columnNumber: 19\n              }, this), \" \", orderDetails.totalAmount]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 214,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 212,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"footerInfoDet-design\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: \"Delivers:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 219,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Standard Shipping\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 220,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 218,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"footerInfoDet-design\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: \"Shared Shipping Address:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 223,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: auth.user.email\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 224,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 222,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 207,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 92,\n    columnNumber: 5\n  }, this);\n};\n\n_s(OrderDetailsPage, \"XRETxge7sNLC9FdyejYcO4x4Wo8=\", false, function () {\n  return [useDispatch, useSelector, useSelector, useSelector];\n});\n\n_c = OrderDetailsPage;\nexport default OrderDetailsPage;\n\nvar _c;\n\n$RefreshReg$(_c, \"OrderDetailsPage\");","map":{"version":3,"sources":["E:/redo final/frontend-main/src/containers/OrderDetailsPage/index.js"],"names":["React","useEffect","useState","useRef","useDispatch","useSelector","cancleOrder","getOrder","Layout","Card","generatePublicUrl","Price","FaArrowRight","FaChevronRight","FaRupeeSign","useMemo","OrderDetailsPage","props","dispatch","typeRef","orderDetails","state","user","auth","onCancleOrder","orderId","productId","payload","type","current","console","log","match","params","hasItem","cancleItem","newCancleItem","formatDate","date","d","Date","getFullYear","getMonth","getDate","formatDate2","month","address","name","mobileNumber","_id","pinCode","items","map","item","index","productPictures","removeOrder","isRemoveOrder","orderStatus","filter","od","isCompleted","slice","oc","status","totalAmount","email"],"mappings":"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","sourcesContent":["/** @format */\n\nimport React, { useEffect, useState, useRef } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { cancleOrder, getOrder } from \"../../actions\";\nimport Layout from \"../../components/Layout\";\nimport Card from \"../../components/UI/Card\";\nimport { generatePublicUrl } from \"../../urlConfig\";\nimport Price from \"../../components/UI/Price\";\n\nimport \"./style.css\";\nimport { FaArrowRight, FaChevronRight, FaRupeeSign } from \"react-icons/fa\";\nimport { useMemo } from \"react\";\n\n/**\n * @author\n * @function OrderDetails\n **/\n\nconst OrderDetailsPage = (props) => {\n  const dispatch = useDispatch();\n  const typeRef = useRef(\"\");\n  const orderDetails = useSelector((state) => state.user.orderDetails);\n  const user = useSelector((state) => state.user);\n  const auth = useSelector((state) => state.auth);\n  const onCancleOrder = (orderId, productId) => {\n    const payload = {\n      orderId,\n      productId,\n      type: typeRef.current,\n    };\n    dispatch(cancleOrder(payload));\n  };\n\n  useEffect(() => {\n    console.log({ props });\n    const payload = {\n      orderId: props.match.params.orderId,\n    };\n    dispatch(getOrder(payload));\n  }, []);\n\n  useEffect(() => {\n    console.log(orderDetails, \">> orderDetails\");\n  }, [orderDetails]);\n\n  useEffect(() => {\n    console.log(user.hasItem, \">> hasItem\");\n  }, [user.hasItem]);\n\n  const cancleItem = useMemo(() => {\n    const { cancleOrder } = orderDetails;\n    let newCancleItem = cancleOrder ? cancleOrder[0] : {};\n    // console.log(cancleItem);\n    return newCancleItem;\n  }, [orderDetails]);\n\n  const formatDate = (date) => {\n    if (date) {\n      const d = new Date(date);\n      return `${d.getFullYear()}-${d.getMonth() + 1}-${d.getDate()}`;\n    }\n    return \"\";\n  };\n\n  const formatDate2 = (date) => {\n    const month = [\n      \"Jan\",\n      \"Feb\",\n      \"Mar\",\n      \"Apr\",\n      \"May\",\n      \"June\",\n      \"July\",\n      \"Aug\",\n      \"Sep\",\n      \"Oct\",\n      \"Nov\",\n      \"Dec\",\n    ];\n    if (date) {\n      const d = new Date(date);\n      return `${month[d.getMonth()]} ${d.getDate()}, ${d.getFullYear()}`;\n    }\n  };\n\n  if (!(orderDetails && orderDetails.address)) {\n    return null;\n  }\n\n  return (\n    <Layout>\n      <div className=\"detailsContainer\">\n        <h2>Order Details</h2>\n        <div className=\"detUpperContainer\">\n          <div className=\"delTitle\">\n            <h5>Delivery Address</h5>\n            <h6>{orderDetails.address.name}</h6>\n            <h6>{orderDetails.address.address}</h6>\n            <h6>{orderDetails.address.mobileNumber}</h6>\n          </div>\n          <div className=\"delTitle\">\n            <h6>OrderId: &nbsp; {orderDetails._id}</h6>\n            <h6>PinCode: &nbsp; {orderDetails.pinCode}</h6>\n            <h6>Phone number: {orderDetails.address.mobileNumber}</h6>\n            <a href=\"#\">View Invoice</a>\n            <h6></h6>\n          </div>\n        </div>\n\n        {orderDetails.items.map((item, index) => (\n          <>\n            <div className=\"detLowerContainer\">\n              <div className=\"delItemImgContainer\">\n                <img\n                  src={generatePublicUrl(item.productId.productPictures[0])}\n                  alt=\"\"\n                />\n              </div>\n              <div className=\"lowerDetRight\">\n                <div className=\"delItemName\">{item.productId.name}</div>\n                <div className=\"cancleorderItem\">\n                  {/* <p className=\"trackShipment\">Track Shipment</p> */}\n                  {!item.removeOrder[0].isRemoveOrder ? (\n                    <>\n                      {orderDetails.orderStatus\n                        .filter((od, index) => od.isCompleted)\n                        .slice(-1)\n                        .map((oc, index) => (\n                          <>\n                            <div className=\"cancleorderItem\">\n                              <h1>\n                                {oc.type} on {formatDate2(oc.date)}{\" \"}\n                              </h1>\n                            </div>\n                            <div className=\"tracknewDesign\">\n                              <div className=\"orderTrack\">\n                                {orderDetails.orderStatus.map((status) => (\n                                  <div\n                                    className={`orderStatus ${\n                                      status.isCompleted ? \"active\" : \"\"\n                                    }`}>\n                                    <div\n                                      className={`point ${\n                                        status.isCompleted ? \"active\" : \"\"\n                                      }`}></div>\n                                    <div className=\"orderInfo\">\n                                      <div className=\"status\">\n                                        {status.type}\n                                      </div>\n                                      <div className=\"date\">\n                                        {formatDate(status.date)}\n                                      </div>\n                                    </div>\n                                  </div>\n                                ))}\n                              </div>\n                            </div>\n                            {oc.type == \"shipped\" ||\n                            oc.type == \"delivered\" ||\n                            user.hasItem === false ? null : (\n                              <button\n                                onClick={() => {\n                                  typeRef.current = cancleItem.type;\n                                  onCancleOrder(\n                                    orderDetails._id,\n                                    item.productId._id\n                                  );\n                                }}>\n                                Cancle Order\n                              </button>\n                            )}\n                          </>\n                        ))}\n                    </>\n                  ) : (\n                    <h1>\n                      Cancelled on {formatDate2(item.removeOrder[0].date)}{\" \"}\n                    </h1>\n                  )}\n                </div>\n              </div>\n            </div>\n\n            <div className=\"delTitle mobBorderOrder\">\n              <h4>Order Summery</h4>\n              <h6>OrderId: &nbsp; {orderDetails._id}</h6>\n              <h6>PinCode: &nbsp; {orderDetails.pinCode}</h6>\n              <h6>Phone number: {orderDetails.address.mobileNumber}</h6>\n              <h6>\n                Total Amount: &nbsp;\n                <FaRupeeSign /> {orderDetails.totalAmount}\n              </h6>\n              <a href=\"#\">View Invoice</a>\n              <h6></h6>\n            </div>\n            <br />\n            <div className=\"delTitle mobBorderOrder\">\n              <h4>Shipping Address</h4>\n              <h6>{orderDetails.address.name}</h6>\n              <h6>{orderDetails.address.address}</h6>\n              <h6>{orderDetails.address.mobileNumber}</h6>\n              <h6>{auth.user.email}</h6>\n            </div>\n\n            <hr className=\"hrHide\" />\n            <div className=\"footerInfoDet\">\n              <div className=\"footerInfoDet-design\">\n                <h3>Item Name</h3>\n                <p>{item.productId.name}</p>\n              </div>\n              <div className=\"footerInfoDet-design\">\n                <h3>Total Amount</h3>\n                <p>\n                  <FaRupeeSign /> {orderDetails.totalAmount}\n                </p>\n              </div>\n              <div className=\"footerInfoDet-design\">\n                <h3>Delivers:</h3>\n                <p>Standard Shipping</p>\n              </div>\n              <div className=\"footerInfoDet-design\">\n                <h3>Shared Shipping Address:</h3>\n                <p>{auth.user.email}</p>\n              </div>\n            </div>\n          </>\n        ))}\n      </div>\n    </Layout>\n  );\n};\n\nexport default OrderDetailsPage;\n"]},"metadata":{},"sourceType":"module"}