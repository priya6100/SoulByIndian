{"ast":null,"code":"var _jsxFileName = \"E:\\\\redo final\\\\frontend-main\\\\src\\\\containers\\\\CheckOutPage\\\\index.js\",\n    _s = $RefreshSig$();\n\n/** @format */\nimport { cartConstants, userConstants } from \"../../actions/constants\";\nimport React, { useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { addOrder, getAddress, removeAddressList, getCartItems } from \"../../actions\";\nimport Layout from \"../../components/Layout\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Stepper from \"@material-ui/core/Stepper\";\nimport Step from \"@material-ui/core/Step\";\nimport StepLabel from \"@material-ui/core/StepLabel\";\nimport Button from \"@material-ui/core/Button\";\nimport Typography from \"@material-ui/core/Typography\";\nimport confirm from \"../../images/confirm.gif\";\nimport { Anchor, MaterialButton, MaterialInput } from \"../../components/MaterialUi\";\nimport PriceDetails from \"../../components/PriceDetails\";\nimport Card from \"../../components/UI/Card\";\nimport CartPage from \"../CartPage\";\nimport Razorpay from \"razorpay\";\nimport axios from \"axios\";\nimport AddressForm from \"./AddressForm\";\nimport { FaRubleSign, FaRupeeSign, FaTrashAlt } from \"react-icons/fa\";\nimport \"./style.css\";\nimport CardPayment from \"./PaymentRazorpay\";\nimport Captcha from \"../../containers/CaptchaPage\";\n/**\n * @author\n * @function CheckOutPage\n **/\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst useStyles = makeStyles(theme => ({\n  root: {\n    width: \"100%\"\n  },\n  backButton: {\n    marginRight: theme.spacing(0)\n  },\n  instructions: {\n    marginTop: theme.spacing(0),\n    marginBottom: theme.spacing(0)\n  }\n}));\n\nconst CheckoutStep = props => {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"checkoutStep\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      onClick: props.onClick,\n      style: props.style,\n      className: `checkoutHeader ${props.active && \"active\"}`,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"stepNumber\",\n          children: props.stepNumber\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"stepTitle\",\n          children: props.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }, this), props.body && props.body]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 57,\n    columnNumber: 5\n  }, this);\n};\n\n_c = CheckoutStep;\n\nconst Address = ({\n  adr,\n  selectAddress,\n  enableAddressEditForm,\n  onRemoveAddressList,\n  confirmDeliveryAddress,\n  onAddressSubmit\n}) => {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flexRow addressContainer\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"input\", {\n        name: \"address\",\n        onClick: () => selectAddress(adr),\n        type: \"radio\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flexRow sb addressinfo\",\n      children: [!adr.edit ? /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          width: \"100%\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"addressDetails\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"addressName\",\n              children: adr.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 91,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"addressType\",\n              children: adr.addressType\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 92,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"addressMobileNumber\",\n              children: adr.mobileNumber\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 93,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 15\n          }, this), adr.selected && /*#__PURE__*/_jsxDEV(Anchor, {\n            name: \"EDIT\",\n            onClick: () => enableAddressEditForm(adr),\n            style: {\n              fontWeight: \"500\",\n              color: \"#cb8364\"\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 108,\n            columnNumber: 1\n          }, this), adr.selected && /*#__PURE__*/_jsxDEV(Anchor, {\n            name: \"Remove\",\n            onClick: () => onRemoveAddressList(adr),\n            style: {\n              fontWeight: \"500\",\n              color: \"#cb1114\"\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 110,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"fullAddress\",\n          children: [adr.address, \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 122,\n            columnNumber: 29\n          }, this), \" \", `${adr.state} - ${adr.pinCode}`]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 13\n        }, this), adr.selected && /*#__PURE__*/_jsxDEV(MaterialButton, {\n          title: \"Delivery Here\",\n          onClick: () => confirmDeliveryAddress(adr),\n          style: {\n            width: \"250px\",\n            margin: \"10px 0px\"\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(AddressForm, {\n        onRemoveAddressList: onRemoveAddressList,\n        witoutLayout: true,\n        onSubmitForm: onAddressSubmit,\n        initialData: adr,\n        onCancle: () => {}\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 11\n      }, this), !adr.remove ? /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          width: \"100%\"\n        },\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"addressDetails\",\n          children: adr.selected && /*#__PURE__*/_jsxDEV(Anchor, {\n            name: \"Remove\",\n            onClick: () => onRemoveAddressList(adr),\n            style: {\n              fontWeight: \"500\",\n              color: \"#cb1114\"\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 153,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(AddressForm, {\n        witoutLayout: true,\n        onSubmitForm: onAddressSubmit,\n        initialData: adr,\n        onCancle: () => {}\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 81,\n    columnNumber: 5\n  }, this);\n};\n\n_c2 = Address;\nconst baseUrl = \"http://localhost:7000\";\n\nconst CheckOutPage = props => {\n  _s();\n\n  const user = useSelector(state => state.user);\n  const auth = useSelector(state => state.auth);\n  const orderDetails = useSelector(state => {\n    console.log(state, state.user);\n    return state.user.lastOrderDetails;\n  });\n  const [newAddress, setNewAddres] = useState(false);\n  const [address, setAddress] = useState([]);\n  const [confirmAddress, setConfirmAddress] = useState(false);\n  const [selectedAddress, setSelectedAddress] = useState(null);\n  const cart = useSelector(state => state.cart);\n  const [cartItems, setCartItems] = useState(cart.cartItems);\n  const [orderSummary, setOrderSummary] = useState(false);\n  const [orderConfirmation, setOrderConfirmation] = useState(false);\n  const [paymentOption, setPaymentOption] = useState(false);\n  const [confirmOrder, setConfirmOrder] = useState(false);\n  const dispatch = useDispatch();\n  const classes = useStyles();\n  const [activeStep, setActiveStep] = React.useState(0);\n  const steps = getSteps();\n  useEffect(() => {\n    console.log(orderDetails, \">>>odddd\");\n    console.log(cartItems, \">>>odddd\");\n  }, []);\n  useEffect(() => {\n    console.log(orderDetails, \">>>odddd\");\n  });\n\n  function getSteps(props) {\n    return [\"Delivery Address\", \"Order Summery\", \"Payment Oprtion\"];\n  } // function getStepContent(stepIndex) {\n  //   switch (stepIndex) {\n  //     case 0:\n  //       return            <CheckoutStep\n  //       stepNumber={\"2\"}\n  //       title={\"DELIVERY ADDRESS\"}\n  //       active={!confirmAddress && auth.authenticate}\n  //       body={\n  //         <>\n  //           {confirmAddress ? (\n  //             <div className=\"stepCompleted\">{`${selectedAddress.name}  ${selectedAddress.address} - ${selectedAddress.pinCode}`}</div>\n  //           ) : (\n  //             address.map((adr) => (\n  //               <Address\n  //                 selectAddress={selectAddress}\n  //                 enableAddressEditForm={enableAddressEditForm}\n  //                 confirmDeliveryAddress={confirmDeliveryAddress}\n  //                 onAddressSubmit={onAddressSubmit}\n  //                 adr={adr}\n  //               />\n  //             ))\n  //           )}\n  //         </>\n  //       }\n  //     />\n  //     case 1:\n  //       return 'What is an ad group anyways?';\n  //     case 2:\n  //       return 'This is the bit I really care about!';\n  //     default:\n  //       return 'Unknown stepIndex';\n  //   }\n  // }\n\n\n  const handleNext = () => {\n    setActiveStep(prevActiveStep => prevActiveStep + 1);\n  };\n\n  const handleBack = () => {\n    setActiveStep(prevActiveStep => prevActiveStep - 1);\n  };\n\n  const handleReset = () => {\n    setActiveStep(0);\n  };\n\n  const onAddressSubmit = addr => {\n    setSelectedAddress(addr);\n    setConfirmAddress(true);\n    setOrderSummary(true);\n  };\n\n  const selectAddress = addr => {\n    console.log(addr);\n    const updatedAddress = address.map(adr => adr._id === addr._id ? { ...adr,\n      selected: true\n    } : { ...adr,\n      selected: false\n    });\n    setAddress(updatedAddress);\n  }; // const removeAddress = (addr) => {\n  //   console.log(addr);\n  //   const removeAddress = address.map((adr) =>\n  //     adr._id === addr._id\n  //       ? { ...adr, selected: true }\n  //       : { ...adr, selected: false }\n  //   );\n  //   setAddress(removeAddress);\n  // };\n\n\n  const confirmDeliveryAddress = addr => {\n    setSelectedAddress(addr);\n    console.log(setSelectedAddress(addr), \"hyjsdhfjs\");\n    setConfirmAddress(true);\n    setOrderSummary(true);\n    setActiveStep(prevActiveStep => prevActiveStep + 1);\n  };\n\n  const enableAddressEditForm = addr => {\n    const updatedAddress = address.map(adr => adr._id === addr._id ? { ...adr,\n      edit: true\n    } : { ...adr,\n      edit: false\n    });\n    setAddress(updatedAddress);\n  };\n\n  const onRemoveAddressList = addr => {\n    dispatch(removeAddressList({\n      address: addr._id\n    }));\n  }; ////////////////////////////////////////////////////////////////////////\n  // const onRemoveAddressList = (addr) => {                            //removeAddress\n  //   const removeAddress = address.map((adr) =>\n  //   adr._id === addr._id ? { ...adr, edit: true } : { ...adr, edit: false }\n  // );\n  // setAddress(removeAddress);\n  // };\n\n\n  const userOrderConfirmation = () => {\n    setOrderConfirmation(true);\n    setOrderSummary(false);\n    setPaymentOption(true);\n    setActiveStep(prevActiveStep => prevActiveStep + 1);\n  };\n\n  const onConfirmOrder = () => {\n    const totalAmount = Object.keys(cart.cartItems).reduce((totalPrice, key) => {\n      const {\n        price,\n        qty,\n        name\n      } = cart.cartItems[key];\n      return totalPrice + price * qty;\n    }, 0);\n    const items = Object.keys(cart.cartItems).map(key => ({\n      productId: key,\n      payablePrice: cart.cartItems[key].price,\n      purchasedQty: cart.cartItems[key].qty\n    }));\n    const payload = {\n      addressId: selectedAddress._id,\n      totalAmount,\n      items,\n      paymentStatus: \"pending\",\n      paymentType: \"cod\"\n    };\n    console.log(payload);\n    dispatch(addOrder(payload));\n    setConfirmOrder(true);\n    setActiveStep(prevActiveStep => prevActiveStep + 1);\n  };\n\n  const getProducts = async () => {\n    const res = await axios.get(`${baseUrl}/products`);\n    console.log(res);\n  };\n\n  useEffect(() => {\n    getProducts();\n  }, []);\n  const [payment, setPayment] = useState(false);\n  const [orderId, setOrderId] = useState(\"\");\n  const [paymentId, setPaymentId] = useState(\"\");\n  const [signature, setSignature] = useState(\"\");\n\n  const buyNow = () => {\n    // const res = await axios.get(`${baseUrl}/order/${productId}`);\n    const totalAmount = Object.keys(cart.cartItems).reduce((totalPrice, key) => {\n      const {\n        price,\n        qty\n      } = cart.cartItems[key];\n      return totalPrice + price * qty;\n    }, 0);\n    const items = Object.keys(cart.cartItems).map(key => ({\n      productId: key,\n      payablePrice: cart.cartItems[key].price,\n      purchasedQty: cart.cartItems[key].qty\n    }));\n    const payload = {\n      addressId: selectedAddress._id,\n      totalAmount,\n      items,\n      paymentStatus: \"pending\",\n      paymentType: \"card\"\n    };\n    console.log(payload);\n    dispatch(addOrder(payload));\n    const options = {\n      key: \"rzp_test_LWMywGYTPdLx4d\",\n      // Enter the Key ID generated from the Dashboard\n      amount: totalAmount * 100,\n      // Amount is in currency subunits. Default currency is INR. Hence, 50000 refers to 50000 paise\n      currency: \"INR\",\n      name: \"soulbyindian\",\n      image: \"https://example.com/your_logo\",\n      // \"order_id\": \"order#123\", //This is a sample Order ID. Pass the `id` obtained in the response of Step 1\n      handler: function (response) {\n        setPaymentId(response.razorpay_payment_id);\n        setOrderId(response.razorpay_order_id);\n        setSignature(response.razorpay_signature);\n        setPayment(true);\n        setConfirmOrder(true);\n        setActiveStep(prevActiveStep => prevActiveStep + 1);\n      },\n      prefill: {\n        name: \"Priyaranjan Singh \",\n        email: \"pforsingh@gmail.com\",\n        contact: \"9999999999\"\n      }\n    };\n    var rzp1 = new window.Razorpay(options);\n    rzp1.open();\n    rzp1.on(\"payment.failed\", function (response) {\n      alert(response.error.code);\n      alert(response.error.description);\n      alert(response.error.source);\n      alert(response.error.step);\n      alert(response.error.reason);\n      alert(response.error.metadata.order_id);\n      alert(response.error.metadata.payment_id);\n    });\n  }; // End of the day\n\n\n  useEffect(() => {\n    auth.authenticate && dispatch(getAddress());\n    auth.authenticate && dispatch(getCartItems());\n  }, [auth.authenticate]);\n  useEffect(() => {\n    const address = user.address.map(adr => ({ ...adr,\n      selected: false,\n      edit: false\n    }));\n    setAddress(address);\n  }, [user.address]);\n\n  if (confirmOrder) {\n    return /*#__PURE__*/_jsxDEV(Layout, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginTop: \"150px\"\n        },\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"thankyouSuccess\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"confirmOd\",\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              src: confirm,\n              alt: ``\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 450,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 449,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"confirmText\",\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              children: \"Thanks you for shopping with us, your order is complete!\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 453,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"orderId: \", orderDetails._id]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 454,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"pinCode: \", orderDetails.pinCode]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 455,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 452,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"confirmButtonContainer\",\n            children: [/*#__PURE__*/_jsxDEV(\"a\", {\n              href: \"/account/orders\",\n              children: \"View / Manage Order\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 458,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n              href: \"/\",\n              className: \"confirmActive\",\n              children: \"Continue Shopping\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 459,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 457,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 448,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 447,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 446,\n      columnNumber: 7\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(Layout, {\n    children: [auth.authenticate ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.root,\n      style: {\n        marginTop: \"65px\",\n        marginBottom: \"-70px\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(Stepper, {\n        activeStep: activeStep,\n        variant: \"danger\",\n        className: \"newStepper\",\n        alternativeLabel: true,\n        children: steps.map(label => /*#__PURE__*/_jsxDEV(Step, {\n          children: /*#__PURE__*/_jsxDEV(StepLabel, {\n            children: label\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 482,\n            columnNumber: 17\n          }, this)\n        }, label, false, {\n          fileName: _jsxFileName,\n          lineNumber: 481,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 475,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: activeStep === steps.length ? /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            className: classes.instructions,\n            children: \"All steps completed\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 489,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            onClick: handleReset,\n            children: \"Reset\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 492,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 488,\n          columnNumber: 15\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 497,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 495,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 486,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 472,\n      columnNumber: 9\n    }, this) : null, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 514,\n      columnNumber: 1\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 514,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 514,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"cartContainer\",\n      style: {\n        alignItems: \"flex-start\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"checkoutContainer\",\n        children: [/*#__PURE__*/_jsxDEV(CheckoutStep, {\n          stepNumber: \"1\",\n          title: \"LOGIN\",\n          active: !auth.authenticate,\n          style: !auth.authenticate ? {\n            cursor: \"pointer\"\n          } : {},\n          onClick: () => {\n            if (!auth.authenticate) {\n              document.getElementById(\"login-modal\").click();\n            }\n          },\n          body: auth.authenticate ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"loggedInId stepCompleted\",\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              style: {\n                margin: \"0 5px\"\n              },\n              children: auth.user.email\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 533,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 531,\n            columnNumber: 17\n          }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 519,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(CheckoutStep, {\n          stepNumber: \"2\",\n          title: \"DELIVERY ADDRESS\",\n          active: !confirmAddress && auth.authenticate,\n          body: /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: confirmAddress ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"stepCompleted\",\n              children: `${selectedAddress.name}  ${selectedAddress.address} - ${selectedAddress.pinCode}`\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 550,\n              columnNumber: 19\n            }, this) : address.map(adr => /*#__PURE__*/_jsxDEV(Address, {\n              onRemoveAddressList: onRemoveAddressList,\n              selectAddress: selectAddress,\n              enableAddressEditForm: enableAddressEditForm,\n              confirmDeliveryAddress: confirmDeliveryAddress,\n              onAddressSubmit: onAddressSubmit,\n              adr: adr\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 553,\n              columnNumber: 21\n            }, this))\n          }, void 0, false)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 543,\n          columnNumber: 11\n        }, this), confirmAddress ? null : newAddress ? /*#__PURE__*/_jsxDEV(AddressForm, {\n          onSubmitForm: onAddressSubmit,\n          onCancle: () => {}\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 570,\n          columnNumber: 13\n        }, this) : auth.authenticate ? /*#__PURE__*/_jsxDEV(CheckoutStep, {\n          stepNumber: \"+\",\n          title: \"Add New Address\",\n          active: false,\n          onClick: () => setNewAddres(true)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 572,\n          columnNumber: 13\n        }, this) : null, /*#__PURE__*/_jsxDEV(CheckoutStep, {\n          stepNumber: 3,\n          title: \"oreder summery\",\n          active: orderSummary,\n          body: orderSummary ? /*#__PURE__*/_jsxDEV(CartPage, {\n            onlyCartItems: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 586,\n            columnNumber: 17\n          }, this) : orderConfirmation ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stepCompleted\",\n            children: [Object.keys(cart.cartItems).length, \" items\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 588,\n            columnNumber: 17\n          }, this) : null\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 580,\n          columnNumber: 11\n        }, this), orderSummary && /*#__PURE__*/_jsxDEV(Card, {\n          style: {\n            margin: \"10px 0px\",\n            width: \"100%\"\n          },\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flexRow sb\",\n            style: {\n              padding: \"20px\",\n              alignItems: \"center\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              style: {\n                fontSize: \"14px\"\n              },\n              children: [\"Order Confirmation Email will be sent to\", \" \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: auth.user.email\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 602,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 600,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(MaterialButton, {\n              title: \"CONTINUE\",\n              onClick: userOrderConfirmation,\n              style: {\n                width: \"200px\"\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 604,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 597,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 596,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(CheckoutStep, {\n          stepNumber: \"4\",\n          title: \"PAYMENT OPTIONS\",\n          active: paymentOption,\n          body: paymentOption && /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(MaterialButton, {\n              title: \"Cash on delivery\",\n              onClick: onConfirmOrder // onClick={() => {\n              //   props.history.push(`/Captcha`);\n              // }}\n              ,\n              style: {\n                width: \"200px\",\n                margin: \"0 0 20px 20px\"\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 635,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(MaterialButton, {\n              title: \"Razorpay\",\n              onClick: buyNow,\n              style: {\n                width: \"200px\",\n                margin: \"0 0 20px 20px\"\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 647,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 619,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 613,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 516,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"priceNewDetails\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Price Details\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 675,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"priceFlex\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"innerPriceFlex\",\n            children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n              children: [\"Price(\", \" \", Object.keys(cart.cartItems).reduce((qty, key) => {\n                return qty + cart.cartItems[key].qty;\n              }, 0), \" \", \"items)\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 680,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n              children: \"Delevery Charges\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 687,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 679,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"innerPriceFlex\",\n            children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n              children: [\" \", /*#__PURE__*/_jsxDEV(FaRupeeSign, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 692,\n                columnNumber: 17\n              }, this), Object.keys(cart.cartItems).reduce((totalPrice, key) => {\n                const {\n                  price,\n                  qty\n                } = cart.cartItems[key];\n                return totalPrice + price * qty;\n              }, 0)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 690,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n              children: \"Free\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 698,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 689,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 678,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 702,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"priceFlex\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"innerPriceFlex\",\n            children: /*#__PURE__*/_jsxDEV(\"h3\", {\n              children: \"Total Payable\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 705,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 704,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"innerPriceFlex\",\n            children: /*#__PURE__*/_jsxDEV(\"h3\", {\n              children: [\" \", /*#__PURE__*/_jsxDEV(FaRupeeSign, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 710,\n                columnNumber: 17\n              }, this), Object.keys(cart.cartItems).reduce((totalPrice, key) => {\n                const {\n                  price,\n                  qty\n                } = cart.cartItems[key];\n                return totalPrice + price * qty;\n              }, 0)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 708,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 707,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 703,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 674,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 515,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 470,\n    columnNumber: 5\n  }, this);\n};\n\n_s(CheckOutPage, \"QrP3Yqv9/QOdhO9A4dVqcFU2FUI=\", false, function () {\n  return [useSelector, useSelector, useSelector, useSelector, useDispatch, useStyles];\n});\n\n_c3 = CheckOutPage;\nexport default CheckOutPage;\n\nvar _c, _c2, _c3;\n\n$RefreshReg$(_c, \"CheckoutStep\");\n$RefreshReg$(_c2, \"Address\");\n$RefreshReg$(_c3, \"CheckOutPage\");","map":{"version":3,"sources":["E:/redo final/frontend-main/src/containers/CheckOutPage/index.js"],"names":["cartConstants","userConstants","React","useEffect","useState","useDispatch","useSelector","addOrder","getAddress","removeAddressList","getCartItems","Layout","makeStyles","Stepper","Step","StepLabel","Button","Typography","confirm","Anchor","MaterialButton","MaterialInput","PriceDetails","Card","CartPage","Razorpay","axios","AddressForm","FaRubleSign","FaRupeeSign","FaTrashAlt","CardPayment","Captcha","useStyles","theme","root","width","backButton","marginRight","spacing","instructions","marginTop","marginBottom","CheckoutStep","props","onClick","style","active","stepNumber","title","body","Address","adr","selectAddress","enableAddressEditForm","onRemoveAddressList","confirmDeliveryAddress","onAddressSubmit","edit","name","addressType","mobileNumber","selected","fontWeight","color","address","state","pinCode","margin","remove","baseUrl","CheckOutPage","user","auth","orderDetails","console","log","lastOrderDetails","newAddress","setNewAddres","setAddress","confirmAddress","setConfirmAddress","selectedAddress","setSelectedAddress","cart","cartItems","setCartItems","orderSummary","setOrderSummary","orderConfirmation","setOrderConfirmation","paymentOption","setPaymentOption","confirmOrder","setConfirmOrder","dispatch","classes","activeStep","setActiveStep","steps","getSteps","handleNext","prevActiveStep","handleBack","handleReset","addr","updatedAddress","map","_id","userOrderConfirmation","onConfirmOrder","totalAmount","Object","keys","reduce","totalPrice","key","price","qty","items","productId","payablePrice","purchasedQty","payload","addressId","paymentStatus","paymentType","getProducts","res","get","payment","setPayment","orderId","setOrderId","paymentId","setPaymentId","signature","setSignature","buyNow","options","amount","currency","image","handler","response","razorpay_payment_id","razorpay_order_id","razorpay_signature","prefill","email","contact","rzp1","window","open","on","alert","error","code","description","source","step","reason","metadata","order_id","payment_id","authenticate","label","length","alignItems","cursor","document","getElementById","click","padding","fontSize"],"mappings":"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","sourcesContent":["/** @format */\nimport { cartConstants, userConstants } from \"../../actions/constants\";\nimport React, { useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { addOrder, getAddress, removeAddressList, getCartItems } from \"../../actions\";\nimport Layout from \"../../components/Layout\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Stepper from \"@material-ui/core/Stepper\";\n\nimport Step from \"@material-ui/core/Step\";\nimport StepLabel from \"@material-ui/core/StepLabel\";\nimport Button from \"@material-ui/core/Button\";\nimport Typography from \"@material-ui/core/Typography\";\nimport confirm from \"../../images/confirm.gif\";\nimport {\n  Anchor,\n  MaterialButton,\n  MaterialInput,\n} from \"../../components/MaterialUi\";\nimport PriceDetails from \"../../components/PriceDetails\";\nimport Card from \"../../components/UI/Card\";\nimport CartPage from \"../CartPage\";\nimport Razorpay from \"razorpay\";\nimport axios from \"axios\";\nimport AddressForm from \"./AddressForm\";\nimport { FaRubleSign, FaRupeeSign ,FaTrashAlt } from \"react-icons/fa\";\nimport \"./style.css\";\nimport CardPayment from \"./PaymentRazorpay\";\nimport Captcha from \"../../containers/CaptchaPage\";\n/**\n * @author\n * @function CheckOutPage\n **/\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    width: \"100%\",\n  },\n  backButton: {\n    marginRight: theme.spacing(0),\n  },\n  instructions: {\n    marginTop: theme.spacing(0),\n    marginBottom: theme.spacing(0),\n  },\n}));\nconst CheckoutStep = (props) => {\n\n\n  \n\n\n\n\n\n  return (\n    <div className=\"checkoutStep\">\n      <div\n        onClick={props.onClick}\n        style={props.style}\n        className={`checkoutHeader ${props.active && \"active\"}`}>\n        <div>\n          <span className=\"stepNumber\">{props.stepNumber}</span>\n          <span className=\"stepTitle\">{props.title}</span>\n        </div>\n      </div>\n      {props.body && props.body}\n    </div>\n  );\n};\n\nconst Address = ({\n  adr,\n  selectAddress,\n  enableAddressEditForm,\n  onRemoveAddressList,\n  confirmDeliveryAddress,\n  onAddressSubmit,\n}) => {\n  return (\n    <div className=\"flexRow addressContainer\">\n      <div>\n        <input name=\"address\" onClick={() => selectAddress(adr)} type=\"radio\" />\n      </div>\n\n      <div className=\"flexRow sb addressinfo\">\n        {!adr.edit ? (\n          <div style={{ width: \"100%\" }}>\n            <div className=\"addressDetails\">\n              <div>\n                <span className=\"addressName\">{adr.name}</span>\n                <span className=\"addressType\">{adr.addressType}</span>\n                <span className=\"addressMobileNumber\">{adr.mobileNumber}</span>\n              </div>\n           \n              {adr.selected && (\n                <Anchor\n                  name=\"EDIT\"\n                  onClick={() => enableAddressEditForm(adr)}\n                  style={{\n                    fontWeight: \"500\",\n                    color: \"#cb8364\",\n                  }}\n                  \n                />\n              )}\n\n<br/>\n{adr.selected && (\n                <Anchor\n                  name=\"Remove\"\n                  onClick={() => onRemoveAddressList(adr)}\n                  style={{\n                    fontWeight: \"500\",\n                    color: \"#cb1114\",\n                  }}\n                  \n                />\n              )} \n            </div>\n            <div className=\"fullAddress\">\n              {adr.address} <br /> {`${adr.state} - ${adr.pinCode}`}\n            </div>\n\n            {adr.selected && (\n              <MaterialButton\n                title=\"Delivery Here\"\n                onClick={() => confirmDeliveryAddress(adr)}\n                style={{ width: \"250px\", margin: \"10px 0px\" }}\n              />\n            )}\n          </div>\n        ) : (\n          <AddressForm\n            onRemoveAddressList={onRemoveAddressList}\n            witoutLayout={true}\n            onSubmitForm={onAddressSubmit}\n            initialData={adr}\n            onCancle={() => {}}\n          />\n        )}\n\n\n\n\n\n\n\n{!adr.remove ? (\n          <div style={{ width: \"100%\" }}>\n            <div className=\"addressDetails\">\n            {adr.selected && (\n                <Anchor\n                  name=\"Remove\"\n                  onClick={() => onRemoveAddressList(adr)}\n                  style={{\n                    fontWeight: \"500\",\n                    color: \"#cb1114\",\n                  }}\n                  \n                />\n              )} \n            </div>\n          </div>\n        ) : (\n          <AddressForm\n            witoutLayout={true}\n            onSubmitForm={onAddressSubmit}\n            initialData={adr}\n            onCancle={() => {}}\n          />\n        )}\n      </div>\n    </div>\n  );\n};\n\nconst baseUrl = \"http://localhost:7000\";\n\nconst CheckOutPage = (props) => {\n  const user = useSelector((state) => state.user);\n  const auth = useSelector((state) => state.auth);\n  const orderDetails = useSelector((state) => {\n    console.log(state, state.user);\n    return state.user.lastOrderDetails;\n  });\n  const [newAddress, setNewAddres] = useState(false);\n\n  const [address, setAddress] = useState([]);\n  const [confirmAddress, setConfirmAddress] = useState(false);\n  const [selectedAddress, setSelectedAddress] = useState(null);\n  const cart = useSelector((state) => state.cart);\n  const [cartItems, setCartItems] = useState(cart.cartItems);\n  const [orderSummary, setOrderSummary] = useState(false);\n  const [orderConfirmation, setOrderConfirmation] = useState(false);\n  const [paymentOption, setPaymentOption] = useState(false);\n  const [confirmOrder, setConfirmOrder] = useState(false);\n  const dispatch = useDispatch();\n  const classes = useStyles();\n  const [activeStep, setActiveStep] = React.useState(0);\n  const steps = getSteps();\n\n  useEffect(() => {\n    console.log(orderDetails, \">>>odddd\");\n    console.log(cartItems, \">>>odddd\");\n  }, []);\n  useEffect(() => {\n    console.log(orderDetails, \">>>odddd\");\n  });\n\n  function getSteps(props) {\n    return [\"Delivery Address\", \"Order Summery\", \"Payment Oprtion\"];\n  }\n\n  // function getStepContent(stepIndex) {\n  //   switch (stepIndex) {\n  //     case 0:\n  //       return            <CheckoutStep\n  //       stepNumber={\"2\"}\n  //       title={\"DELIVERY ADDRESS\"}\n  //       active={!confirmAddress && auth.authenticate}\n  //       body={\n  //         <>\n  //           {confirmAddress ? (\n  //             <div className=\"stepCompleted\">{`${selectedAddress.name}  ${selectedAddress.address} - ${selectedAddress.pinCode}`}</div>\n  //           ) : (\n  //             address.map((adr) => (\n  //               <Address\n  //                 selectAddress={selectAddress}\n  //                 enableAddressEditForm={enableAddressEditForm}\n  //                 confirmDeliveryAddress={confirmDeliveryAddress}\n  //                 onAddressSubmit={onAddressSubmit}\n  //                 adr={adr}\n  //               />\n  //             ))\n  //           )}\n  //         </>\n  //       }\n  //     />\n  //     case 1:\n  //       return 'What is an ad group anyways?';\n  //     case 2:\n  //       return 'This is the bit I really care about!';\n  //     default:\n  //       return 'Unknown stepIndex';\n  //   }\n  // }\n\n  const handleNext = () => {\n    setActiveStep((prevActiveStep) => prevActiveStep + 1);\n  };\n\n  const handleBack = () => {\n    setActiveStep((prevActiveStep) => prevActiveStep - 1);\n  };\n\n  const handleReset = () => {\n    setActiveStep(0);\n  };\n\n  const onAddressSubmit = (addr) => {\n    setSelectedAddress(addr);\n    setConfirmAddress(true);\n    setOrderSummary(true);\n  };\n\n  const selectAddress = (addr) => {\n    console.log(addr);\n    const updatedAddress = address.map((adr) =>\n      adr._id === addr._id\n        ? { ...adr, selected: true }\n        : { ...adr, selected: false }\n    );\n    setAddress(updatedAddress);\n\n  };\n  // const removeAddress = (addr) => {\n  //   console.log(addr);\n  //   const removeAddress = address.map((adr) =>\n  //     adr._id === addr._id\n  //       ? { ...adr, selected: true }\n  //       : { ...adr, selected: false }\n  //   );\n  //   setAddress(removeAddress);\n  // };\n  const confirmDeliveryAddress = (addr) => {\n    setSelectedAddress(addr);\n    console.log(setSelectedAddress(addr), \"hyjsdhfjs\");\n    setConfirmAddress(true);\n    setOrderSummary(true);\n    setActiveStep((prevActiveStep) => prevActiveStep + 1);\n  };\n\n  const enableAddressEditForm = (addr) => {\n    const updatedAddress = address.map((adr) =>\n      adr._id === addr._id ? { ...adr, edit: true } : { ...adr, edit: false }\n    );\n    setAddress(updatedAddress);\n  };\n  \nconst onRemoveAddressList = (addr) => {\n  dispatch(removeAddressList({ address : addr._id }));\n};\n\n  ////////////////////////////////////////////////////////////////////////\n  \n  \n  // const onRemoveAddressList = (addr) => {                            //removeAddress\n  //   const removeAddress = address.map((adr) =>\n  //   adr._id === addr._id ? { ...adr, edit: true } : { ...adr, edit: false }\n  // );\n  // setAddress(removeAddress);\n  // };\n\n\n\n  const userOrderConfirmation = () => {\n    setOrderConfirmation(true);\n    setOrderSummary(false);\n    setPaymentOption(true);\n    setActiveStep((prevActiveStep) => prevActiveStep + 1);\n  };\n\n  const onConfirmOrder = () => {\n    const totalAmount = Object.keys(cart.cartItems).reduce(\n      (totalPrice, key) => {\n        const { price, qty, name } = cart.cartItems[key];\n        return totalPrice + price * qty;\n      },\n      0\n    );\n\n    const items = Object.keys(cart.cartItems).map((key) => ({\n      productId: key,\n      payablePrice: cart.cartItems[key].price,\n      purchasedQty: cart.cartItems[key].qty,\n    }));\n    const payload = {\n      addressId: selectedAddress._id,\n      totalAmount,\n      items,\n      paymentStatus: \"pending\",\n      paymentType: \"cod\",\n    };\n    console.log(payload);\n    dispatch(addOrder(payload));\n    setConfirmOrder(true);\n    setActiveStep((prevActiveStep) => prevActiveStep + 1);\n  };\n\n  const getProducts = async () => {\n    const res = await axios.get(`${baseUrl}/products`);\n    console.log(res);\n  };\n\n  useEffect(() => {\n    getProducts();\n  }, []);\n\n  const [payment, setPayment] = useState(false);\n  const [orderId, setOrderId] = useState(\"\");\n  const [paymentId, setPaymentId] = useState(\"\");\n  const [signature, setSignature] = useState(\"\");\n\n  const buyNow = () => {\n    // const res = await axios.get(`${baseUrl}/order/${productId}`);\n\n    const totalAmount = Object.keys(cart.cartItems).reduce(\n      (totalPrice, key) => {\n        const { price, qty } = cart.cartItems[key];\n        return totalPrice + price * qty;\n      },\n      0\n    );\n\n    const items = Object.keys(cart.cartItems).map((key) => ({\n      productId: key,\n      payablePrice: cart.cartItems[key].price,\n      purchasedQty: cart.cartItems[key].qty,\n    }));\n\n    const payload = {\n      addressId: selectedAddress._id,\n      totalAmount,\n      items,\n      paymentStatus: \"pending\",\n      paymentType: \"card\",\n    };\n    console.log(payload);\n    dispatch(addOrder(payload));\n\n    const options = {\n      key: \"rzp_test_LWMywGYTPdLx4d\", // Enter the Key ID generated from the Dashboard\n      amount: totalAmount * 100, // Amount is in currency subunits. Default currency is INR. Hence, 50000 refers to 50000 paise\n      currency: \"INR\",\n      name: \"soulbyindian\",\n      image: \"https://example.com/your_logo\",\n      // \"order_id\": \"order#123\", //This is a sample Order ID. Pass the `id` obtained in the response of Step 1\n      handler: function (response) {\n        setPaymentId(response.razorpay_payment_id);\n        setOrderId(response.razorpay_order_id);\n        setSignature(response.razorpay_signature);\n        setPayment(true);\n        setConfirmOrder(true);\n        setActiveStep((prevActiveStep) => prevActiveStep + 1);\n      },\n      prefill: {\n        name: \"Priyaranjan Singh \",\n        email: \"pforsingh@gmail.com\",\n        contact: \"9999999999\",\n      },\n    };\n    var rzp1 = new window.Razorpay(options);\n\n    rzp1.open();\n\n    rzp1.on(\"payment.failed\", function (response) {\n      alert(response.error.code);\n      alert(response.error.description);\n      alert(response.error.source);\n      alert(response.error.step);\n      alert(response.error.reason);\n      alert(response.error.metadata.order_id);\n      alert(response.error.metadata.payment_id);\n    });\n  };\n\n  // End of the day\n\n  useEffect(() => {\n    auth.authenticate && dispatch(getAddress());\n    auth.authenticate && dispatch(getCartItems());\n  }, [auth.authenticate]);\n\n  useEffect(() => {\n    const address = user.address.map((adr) => ({\n      ...adr,\n      selected: false,\n      edit: false,\n    }));\n    setAddress(address);\n  }, [user.address]);\n\n  if (confirmOrder) {\n    return (\n      <Layout>\n        <div style={{ marginTop: \"150px\" }}>\n          <div className=\"thankyouSuccess\">\n            <div className=\"confirmOd\">\n              <img src={confirm} alt={``} />\n            </div>\n            <div className=\"confirmText\">\n              <h4>Thanks you for shopping with us, your order is complete!</h4>\n              <p>orderId: {orderDetails._id}</p>\n              <p>pinCode: {orderDetails.pinCode}</p>\n            </div>\n            <div className=\"confirmButtonContainer\">\n              <a href=\"/account/orders\">View / Manage Order</a>\n              <a href=\"/\" className=\"confirmActive\">\n                Continue Shopping\n              </a>\n            </div>\n          </div>\n        </div>\n      </Layout>\n    );\n  }\n\n  return (\n    <Layout>\n      {auth.authenticate ? (\n        <div\n          className={classes.root}\n          style={{ marginTop: \"65px\", marginBottom: \"-70px\" }}>\n          <Stepper\n            activeStep={activeStep}\n            variant=\"danger\"\n            className=\"newStepper\"\n            alternativeLabel>\n            {steps.map((label) => (\n              <Step key={label}>\n                <StepLabel>{label}</StepLabel>\n              </Step>\n            ))}\n          </Stepper>\n          <div>\n            {activeStep === steps.length ? (\n              <div>\n                <Typography className={classes.instructions}>\n                  All steps completed\n                </Typography>\n                <Button onClick={handleReset}>Reset</Button>\n              </div>\n            ) : (\n              <div>\n                {/* <Typography className={classes.instructions}>{getStepContent(activeStep)}</Typography> */}\n                <div>\n                  {/* <Button\n                            disabled={activeStep === 0}\n                            onClick={handleBack}\n                            className={classes.backButton}\n                          >\n                            Back\n                          </Button> */}\n                  {/* <Button variant=\"contained\" color=\"primary\" onClick={handleNext}>\n                            {activeStep === steps.length - 1 ? 'Finish' : 'Next'}\n                          </Button> */}\n                </div>\n              </div>\n            )}\n          </div>\n        </div>\n      ) : null}\n<br /><br /><br />\n      <div className=\"cartContainer\" style={{ alignItems: \"flex-start\" }}>\n        <div className=\"checkoutContainer\">\n          {/* check if user logged in or not */}\n\n          <CheckoutStep\n            stepNumber={\"1\"}\n            title={\"LOGIN\"}\n            active={!auth.authenticate}\n            style={!auth.authenticate ? { cursor: \"pointer\" } : {}}\n            onClick={() => {\n              if (!auth.authenticate) {\n                document.getElementById(\"login-modal\").click();\n              }\n            }}\n            body={\n              auth.authenticate ? (\n                <div className=\"loggedInId stepCompleted\">\n                  {/* <span style={{ fontWeight: 500 }}>{auth.user.fullName}</span> */}\n                  <span style={{ margin: \"0 5px\" }}>{auth.user.email}</span>\n                </div>\n              ) : (\n                <></>\n              )\n            }\n          />\n\n          {/* step 2 */}\n\n          <CheckoutStep\n            stepNumber={\"2\"}\n            title={\"DELIVERY ADDRESS\"}\n            active={!confirmAddress && auth.authenticate}\n            body={\n              <>\n                {confirmAddress ? (\n                  <div className=\"stepCompleted\">{`${selectedAddress.name}  ${selectedAddress.address} - ${selectedAddress.pinCode}`}</div>\n                ) : (\n                  address.map((adr) => (\n                    <Address\n                    onRemoveAddressList={onRemoveAddressList}\n                      selectAddress={selectAddress}\n                      enableAddressEditForm={enableAddressEditForm}\n                      confirmDeliveryAddress={confirmDeliveryAddress}\n                      onAddressSubmit={onAddressSubmit}\n                      adr={adr}\n                    />\n                  ))\n                )}\n              </>\n            }\n          />\n\n          {/* AddressForm */}\n\n          {confirmAddress ? null : newAddress ? (\n            <AddressForm onSubmitForm={onAddressSubmit} onCancle={() => {}} />\n          ) : auth.authenticate ? (\n            <CheckoutStep\n              stepNumber={\"+\"}\n              title={\"Add New Address\"}\n              active={false}\n              onClick={() => setNewAddres(true)}\n            />\n          ) : null}\n\n          <CheckoutStep\n            stepNumber={3}\n            title={\"oreder summery\"}\n            active={orderSummary}\n            body={\n              orderSummary ? (\n                <CartPage onlyCartItems={true} />\n              ) : orderConfirmation ? (\n                <div className=\"stepCompleted\">\n                  {Object.keys(cart.cartItems).length} items\n                </div>\n              ) : null\n            }\n          />\n\n          {orderSummary && (\n            <Card style={{ margin: \"10px 0px\", width: \"100%\" }}>\n              <div\n                className=\"flexRow sb\"\n                style={{ padding: \"20px\", alignItems: \"center\" }}>\n                <p style={{ fontSize: \"14px\" }}>\n                  Order Confirmation Email will be sent to{\" \"}\n                  <strong>{auth.user.email}</strong>\n                </p>\n                <MaterialButton\n                  title=\"CONTINUE\"\n                  onClick={userOrderConfirmation}\n                  style={{ width: \"200px\" }}\n                />\n              </div>\n            </Card>\n          )}\n\n          <CheckoutStep\n            stepNumber={\"4\"}\n            title={\"PAYMENT OPTIONS\"}\n            active={paymentOption}\n            body={\n              paymentOption && (\n                <div>\n                  {/* <div\n                    className=\"flexRow\"\n                    style={{\n                      alignItems: \"center\",\n                      padding: \"20px\",\n                    }}\n                  >\n                    <input type=\"radio\" name=\"paymentOption\" value=\"cod\" />\n                    <div>Cash on delivery</div>\n                  </div>\n\n                     <input type=\"radio\" name=\"paymentOption\" value=\"cod\" />\n                        <div>Razorpay</div> */}\n\n                  {/* <button onClick={()=> CardPayment}>Pay by Credit / Debit Card</button> */}\n                  <MaterialButton\n                    title=\"Cash on delivery\"\n                    onClick={onConfirmOrder}\n                    // onClick={() => {\n              \n                    //   props.history.push(`/Captcha`);\n                    // }}\n                    style={{\n                      width: \"200px\",\n                      margin: \"0 0 20px 20px\",\n                    }}\n                  />\n                  <MaterialButton\n                    title=\"Razorpay\"\n                    onClick={buyNow}\n                    style={{\n                      width: \"200px\",\n                      margin: \"0 0 20px 20px\",\n                    }}\n                  />\n                </div>\n              )\n            }\n          />\n        </div>\n        {/* price details */}\n\n        {/* <PriceDetails\n          totalItem={Object.keys(cart.cartItems).reduce((qty, key) => {\n            return qty + cart.cartItems[key].qty;\n          }, 0)}\n          totalPrice={Object.keys(cart.cartItems).reduce((totalPrice, key) => {\n            const { price, qty } = cart.cartItems[key];\n            return totalPrice + price * qty;\n          }, 0)}\n          onClick={handleNext}\n          title={`next`}\n        /> */}\n\n        <div className=\"priceNewDetails\">\n          <h2>Price Details</h2>\n\n          {/* <hr /> */}\n          <div className=\"priceFlex\">\n            <div className=\"innerPriceFlex\">\n              <h5>\n                Price({\" \"}\n                {Object.keys(cart.cartItems).reduce((qty, key) => {\n                  return qty + cart.cartItems[key].qty;\n                }, 0)}{\" \"}\n                items)\n              </h5>\n              <h5>Delevery Charges</h5>\n            </div>\n            <div className=\"innerPriceFlex\">\n              <h5>\n                {\" \"}\n                <FaRupeeSign />\n                {Object.keys(cart.cartItems).reduce((totalPrice, key) => {\n                  const { price, qty } = cart.cartItems[key];\n                  return totalPrice + price * qty;\n                }, 0)}\n              </h5>\n              <h5>Free</h5>\n            </div>\n          </div>\n\n          <hr />\n          <div className=\"priceFlex\">\n            <div className=\"innerPriceFlex\">\n              <h3>Total Payable</h3>\n            </div>\n            <div className=\"innerPriceFlex\">\n              <h3>\n                {\" \"}\n                <FaRupeeSign />\n                {Object.keys(cart.cartItems).reduce((totalPrice, key) => {\n                  const { price, qty } = cart.cartItems[key];\n                  return totalPrice + price * qty;\n                }, 0)}\n              </h3>\n            </div>\n          </div>\n        </div>\n      </div>\n    </Layout>\n  );\n};\n\nexport default CheckOutPage;\n"]},"metadata":{},"sourceType":"module"}