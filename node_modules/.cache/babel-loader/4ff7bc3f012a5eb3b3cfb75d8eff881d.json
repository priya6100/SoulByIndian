{"ast":null,"code":"var _jsxFileName = \"E:\\\\redo final\\\\frontend-main\\\\src\\\\containers\\\\CartPage\\\\index.js\",\n    _s = $RefreshSig$();\n\n/** @format */\nimport React, { useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport Layout from \"../../components/Layout\";\nimport Card from \"../../components/UI/Card\";\nimport CartItem from \"./CartItem\";\nimport { addToCart, getCartItems, removeCartItem } from \"../../actions\";\nimport PriceDetails from \"../../components/PriceDetails\";\nimport \"./style.css\";\nimport { MaterialButton } from \"../../components/MaterialUi\";\nimport { FaRupeeSign } from \"react-icons/fa\";\n/**\n * @author\n * @function CartPage\n **/\n\n/*\nBefore Login\nAdd product to cart\nsave in localStorage\nwhen try to checkout ask for credentials and \nif logged in then add products to users cart database from localStorage\n*/\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst CartPage = props => {\n  _s();\n\n  const cart = useSelector(state => state.cart);\n  const auth = useSelector(state => state.auth); // const cartItems = cart.cartItems;\n\n  const [cartItems, setCartItems] = useState(cart.cartItems);\n  const [reveal, setReveal] = useState(false);\n  const dispatch = useDispatch();\n  console.log(\"this cart\");\n  console.log(cartItems);\n  useEffect(() => {\n    setCartItems(cart.cartItems);\n    setReveal(Object.keys(cart.cartItems).length);\n  }, [cart.cartItems]);\n  useEffect(() => {\n    console.log(reveal);\n  }, [reveal]);\n  useEffect(() => {\n    if (auth.authenticate) {\n      dispatch(getCartItems());\n    }\n  }, [auth.authenticate]);\n\n  const onQuantityIncrement = (_id, qty) => {\n    //console.log({_id, qty});\n    const {\n      name,\n      price,\n      img,\n      size,\n      color\n    } = cartItems[_id];\n    dispatch(addToCart({\n      _id,\n      name,\n      price,\n      img,\n      size,\n      color\n    }, 1));\n  };\n\n  const onQuantityDecrement = (_id, qty) => {\n    const {\n      name,\n      price,\n      img,\n      size,\n      color\n    } = cartItems[_id];\n    dispatch(addToCart({\n      _id,\n      name,\n      price,\n      img,\n      size,\n      color\n    }, -1));\n  };\n\n  const onRemoveCartItem = _id => {\n    dispatch(removeCartItem({\n      productId: _id\n    }));\n  };\n\n  if (props.onlyCartItems) {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: Object.keys(cartItems).map((key, index) => /*#__PURE__*/_jsxDEV(CartItem, {\n        cartItem: cartItems[key],\n        onQuantityInc: onQuantityIncrement,\n        onQuantityDec: onQuantityDecrement\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 11\n      }, this))\n    }, void 0, false);\n  }\n\n  return /*#__PURE__*/_jsxDEV(Layout, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"cartContainer\",\n      children: [/*#__PURE__*/_jsxDEV(Card, {\n        headerLeft: `My Cart`,\n        children: [Object.keys(cartItems).map((key, index) => /*#__PURE__*/_jsxDEV(CartItem, {\n          cartItem: cartItems[key],\n          onQuantityInc: onQuantityIncrement,\n          onQuantityDec: onQuantityDecrement,\n          onRemoveCartItem: onRemoveCartItem\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 13\n        }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"cartPriceMobile\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"cartPriceMobileInner\",\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              children: [\" \", /*#__PURE__*/_jsxDEV(FaRupeeSign, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 104,\n                columnNumber: 17\n              }, this), Object.keys(cart.cartItems).reduce((totalPrice, key) => {\n                const {\n                  price,\n                  qty\n                } = cart.cartItems[key];\n                return totalPrice + price * qty;\n              }, 0)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 102,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n              href: \"#pricemobiledetails\",\n              children: \"View Details\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 111,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              width: \"150px\"\n            },\n            children: /*#__PURE__*/_jsxDEV(MaterialButton, {\n              title: \"PLACE ORDER\",\n              style: reveal ? {} : {\n                pointerEvents: \"none\",\n                opacity: \"0.6\"\n              },\n              onClick: () => props.history.push(`/checkout`)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 114,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"pricemobiledetails\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(PriceDetails, {\n        totalItem: Object.keys(cart.cartItems).reduce(function (qty, key) {\n          return qty + cart.cartItems[key].qty;\n        }, 0),\n        totalPrice: Object.keys(cart.cartItems).reduce((totalPrice, key) => {\n          const {\n            price,\n            qty\n          } = cart.cartItems[key];\n          return totalPrice + price * qty;\n        }, 0),\n        onClick: () => props.history.push(`/checkout`),\n        title: `Place Order`,\n        reveal: reveal\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 85,\n    columnNumber: 5\n  }, this);\n};\n\n_s(CartPage, \"vFsHuFVvMFx4vIMnvS+v+YQ0Xos=\", false, function () {\n  return [useSelector, useSelector, useDispatch];\n});\n\n_c = CartPage;\nexport default CartPage;\n\nvar _c;\n\n$RefreshReg$(_c, \"CartPage\");","map":{"version":3,"sources":["E:/redo final/frontend-main/src/containers/CartPage/index.js"],"names":["React","useEffect","useState","useDispatch","useSelector","Layout","Card","CartItem","addToCart","getCartItems","removeCartItem","PriceDetails","MaterialButton","FaRupeeSign","CartPage","props","cart","state","auth","cartItems","setCartItems","reveal","setReveal","dispatch","console","log","Object","keys","length","authenticate","onQuantityIncrement","_id","qty","name","price","img","size","color","onQuantityDecrement","onRemoveCartItem","productId","onlyCartItems","map","key","index","reduce","totalPrice","width","pointerEvents","opacity","history","push"],"mappings":"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","sourcesContent":["/** @format */\n\nimport React, { useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport Layout from \"../../components/Layout\";\nimport Card from \"../../components/UI/Card\";\nimport CartItem from \"./CartItem\";\nimport { addToCart, getCartItems, removeCartItem } from \"../../actions\";\nimport PriceDetails from \"../../components/PriceDetails\";\n\nimport \"./style.css\";\nimport { MaterialButton } from \"../../components/MaterialUi\";\nimport { FaRupeeSign } from \"react-icons/fa\";\n\n/**\n * @author\n * @function CartPage\n **/\n\n/*\nBefore Login\nAdd product to cart\nsave in localStorage\nwhen try to checkout ask for credentials and \nif logged in then add products to users cart database from localStorage\n*/\n\nconst CartPage = (props) => {\n  const cart = useSelector((state) => state.cart);\n  const auth = useSelector((state) => state.auth);\n  // const cartItems = cart.cartItems;\n  const [cartItems, setCartItems] = useState(cart.cartItems);\n  const [reveal, setReveal] = useState(false);\n  const dispatch = useDispatch();\n\n  console.log(\"this cart\");\n  console.log(cartItems);\n\n  useEffect(() => {\n    setCartItems(cart.cartItems);\n    setReveal(Object.keys(cart.cartItems).length);\n  }, [cart.cartItems]);\n\n  useEffect(() => {\n    console.log(reveal);\n  }, [reveal]);\n\n  useEffect(() => {\n    if (auth.authenticate) {\n      dispatch(getCartItems());\n    }\n  }, [auth.authenticate]);\n\n  const onQuantityIncrement = (_id, qty) => {\n    //console.log({_id, qty});\n    const { name, price, img, size, color } = cartItems[_id];\n    dispatch(addToCart({ _id, name, price, img, size, color }, 1));\n  };\n\n  const onQuantityDecrement = (_id, qty) => {\n    const { name, price, img, size, color } = cartItems[_id];\n    dispatch(addToCart({ _id, name, price, img, size, color }, -1));\n  };\n\n  const onRemoveCartItem = (_id) => {\n    dispatch(removeCartItem({ productId: _id }));\n  };\n\n  if (props.onlyCartItems) {\n    return (\n      <>\n        {Object.keys(cartItems).map((key, index) => (\n          <CartItem\n            key={index}\n            cartItem={cartItems[key]}\n            onQuantityInc={onQuantityIncrement}\n            onQuantityDec={onQuantityDecrement}\n          />\n        ))}\n      </>\n    );\n  }\n\n  return (\n    <Layout>\n      <div className=\"cartContainer\">\n        <Card\n          headerLeft={`My Cart`}\n        >\n          {Object.keys(cartItems).map((key, index) => (\n            <CartItem\n              key={index}\n              cartItem={cartItems[key]}\n              onQuantityInc={onQuantityIncrement}\n              onQuantityDec={onQuantityDecrement}\n              onRemoveCartItem={onRemoveCartItem}\n            />\n          ))}\n\n          <div className=\"cartPriceMobile\">\n            <div className=\"cartPriceMobileInner\">\n              <h4>\n                {\" \"}\n                <FaRupeeSign />\n                {Object.keys(cart.cartItems).reduce((totalPrice, key) => {\n                  const { price, qty } = cart.cartItems[key];\n                  return totalPrice + price * qty;\n                }, 0)}\n              </h4>\n\n              <a href=\"#pricemobiledetails\">View Details</a>\n            </div>\n            <div style={{ width: \"150px\" }}>\n              <MaterialButton\n                title=\"PLACE ORDER\"\n                style={reveal ? {} : { pointerEvents: \"none\", opacity: \"0.6\" }}\n                onClick={() => props.history.push(`/checkout`)}\n              />\n            </div>\n          </div>\n          <div id=\"pricemobiledetails\"></div>\n        </Card>\n\n        <PriceDetails\n          totalItem={Object.keys(cart.cartItems).reduce(function (qty, key) {\n            return qty + cart.cartItems[key].qty;\n          }, 0)}\n          totalPrice={Object.keys(cart.cartItems).reduce((totalPrice, key) => {\n            const { price, qty } = cart.cartItems[key];\n            return totalPrice + price * qty;\n          }, 0)}\n          onClick={() => props.history.push(`/checkout`)}\n          title={`Place Order`}\n          reveal={reveal}\n        />\n      </div>\n    </Layout>\n  );\n};\n\nexport default CartPage;\n"]},"metadata":{},"sourceType":"module"}