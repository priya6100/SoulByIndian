"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.WindowsNode12Strategy = void 0;
const fs_1 = require("fs");
const constants_1 = require("@core/constants");
const windows_strategy_abstract_1 = require("./windows-strategy.abstract");
class WindowsNode12Strategy extends windows_strategy_abstract_1.WindowsStrategy {
    remove(path, callback) {
        if (this.isSupported()) {
            fs_1.rmdir(path, { recursive: true }, callback);
            return true;
        }
        return this.checkNext(path, callback);
    }
    isSupported() {
        return (this.major > constants_1.RECURSIVE_RMDIR_NODE_VERSION_SUPPORT.major ||
            (this.major === constants_1.RECURSIVE_RMDIR_NODE_VERSION_SUPPORT.major &&
                this.minor > constants_1.RECURSIVE_RMDIR_NODE_VERSION_SUPPORT.minor));
    }
}
exports.WindowsNode12Strategy = WindowsNode12Strategy;
