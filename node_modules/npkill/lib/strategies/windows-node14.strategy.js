"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.WindowsNode14Strategy = void 0;
const fs_1 = require("fs");
const recursive_rmdir_node_support_constants_1 = require("@core/constants/recursive-rmdir-node-support.constants");
const windows_strategy_abstract_1 = require("./windows-strategy.abstract");
class WindowsNode14Strategy extends windows_strategy_abstract_1.WindowsStrategy {
    remove(path, callback) {
        if (this.isSupported()) {
            fs_1.rm(path, { recursive: true }, callback);
            return true;
        }
        return this.checkNext(path, callback);
    }
    isSupported() {
        return (this.major > recursive_rmdir_node_support_constants_1.RM_NODE_VERSION_SUPPORT.major ||
            (this.major === recursive_rmdir_node_support_constants_1.RM_NODE_VERSION_SUPPORT.major &&
                this.minor > recursive_rmdir_node_support_constants_1.RM_NODE_VERSION_SUPPORT.minor));
    }
}
exports.WindowsNode14Strategy = WindowsNode14Strategy;
